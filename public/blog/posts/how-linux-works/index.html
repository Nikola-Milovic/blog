<!DOCTYPE html>
<html lang="en" dir="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>How Linux works | Nikola Milovic&#39;s Blog</title>
<meta name="keywords" content="">
<meta name="description" content="#book #linux
Linux is divided in

Hardware, actual devices, CPU, mouse, display
Kernel, manages the hardware and acts as the middleman between the user and the hardware
User space, programs that run outside of the privilege of the kernel, shells, browsers, games&hellip;

Device files
device files are sometimes called device nodes, they are located in /dev/*.
ls -la /dev
If this character is b, c, p, or s, the file is a device. These letters stand for block, character, pipe, and socket">
<meta name="author" content="Nikola Milovic">
<link rel="canonical" href="http://localhost:1313/blog/posts/how-linux-works/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css" integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/blog/posts/how-linux-works/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Nikola Milovic&#39;s Blog (Alt + H)">Nikola Milovic&#39;s Blog</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      How Linux works
    </h1>
    <div class="post-meta"><span title='2024-10-09 17:43:38 +0200 CEST'>October 9, 2024</span>&nbsp;·&nbsp;Nikola Milovic

</div>
  </header> 
  <div class="post-content"><p>#book #linux</p>
<p>Linux is divided in</p>
<ol>
<li>Hardware, actual devices, CPU, mouse, display</li>
<li>Kernel, manages the hardware and acts as the middleman between the user and the hardware</li>
<li>User space, programs that run outside of the privilege of the kernel, shells, browsers, games&hellip;</li>
</ol>
<h2 id="device-files">Device files<a hidden class="anchor" aria-hidden="true" href="#device-files">#</a></h2>
<p>device files are sometimes called device nodes, they are located in <code>/dev/*</code>.</p>
<p><code>ls -la /dev</code></p>
<p>If this character is b, c, p, or s, the file is a device. These letters stand for block, character, pipe, and socket</p>
<ul>
<li><strong>Block device</strong>, programs access data from a block device in fixed chunks.</li>
<li><strong>Character device</strong>, character devices work with data streams. You can only read characters from or write characters to character devices. eg printers</li>
<li><strong>Pipe device</strong>, named pipes are like character devices, with another process at the other end of the I/O stream instead of a kernel driver.</li>
<li><strong>Socket device</strong>, sockets are special-purpose interfaces that are frequently used for interprocess communication. They’re often found outside of the /dev directory. Socket files represent Unix domain sockets</li>
</ul>
<h2 id="disks--fs">Disks &amp; FS<a hidden class="anchor" aria-hidden="true" href="#disks--fs">#</a></h2>
<p><strong>Disks and Filesystems in Linux: A Simple Breakdown</strong></p>
<hr>
<h3 id="1-disks-in-linux"><strong>1. Disks in Linux</strong><a hidden class="anchor" aria-hidden="true" href="#1-disks-in-linux">#</a></h3>
<ul>
<li>
<p><strong>Physical Storage Devices</strong>:</p>
<ul>
<li>Hard drives, SSDs, USB drives, and virtual disks.</li>
<li>Referred to as &ldquo;disks&rdquo; in Linux systems.</li>
</ul>
</li>
<li>
<p><strong>Device Representation</strong>:</p>
<ul>
<li>Linux represents disks as device files in <code>/dev/</code>.
<ul>
<li><strong>SATA/SCSI disks</strong>: <code>/dev/sda</code>, <code>/dev/sdb</code>, etc.</li>
<li><strong>NVMe disks</strong>: <code>/dev/nvme0n1</code>, <code>/dev/nvme1n1</code>, etc.</li>
</ul>
</li>
<li>Partitions are numbered: <code>/dev/sda1</code>, <code>/dev/sda2</code>, etc.</li>
</ul>
</li>
<li>
<p><strong>Identifying Disks</strong>:</p>
<ul>
<li>Use commands like <code>lsblk</code>, <code>fdisk -l</code>, or <code>parted -l</code> to list disks and partitions.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="2-partitioning"><strong>2. Partitioning</strong><a hidden class="anchor" aria-hidden="true" href="#2-partitioning">#</a></h3>
<ul>
<li>
<p><strong>What is a Partition?</strong></p>
<ul>
<li>A way to divide a disk into separate sections.</li>
<li>Each partition can function as an independent disk.</li>
</ul>
</li>
<li>
<p><strong>Types of Partitions</strong>:</p>
<ul>
<li><strong>Primary Partitions</strong>:
<ul>
<li>Limited to four per disk in the MBR scheme.</li>
<li>Can be used to boot operating systems.</li>
</ul>
</li>
<li><strong>Extended Partitions</strong>:
<ul>
<li>A special primary partition acting as a container.</li>
<li>Holds multiple logical partitions.</li>
</ul>
</li>
<li><strong>Logical Partitions</strong>:
<ul>
<li>Created within an extended partition.</li>
<li>Allows more than four partitions on a disk.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Partition Tables</strong>:</p>
<ul>
<li><strong>MBR (Master Boot Record)</strong>:
<ul>
<li>Traditional scheme.</li>
<li>Supports disks up to 2TB.</li>
<li>Allows up to four primary partitions.</li>
</ul>
</li>
<li><strong>GPT (GUID Partition Table)</strong>:
<ul>
<li>Modern scheme.</li>
<li>Supports large disks (over 2TB).</li>
<li>Allows numerous partitions.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="3-filesystems"><strong>3. Filesystems</strong><a hidden class="anchor" aria-hidden="true" href="#3-filesystems">#</a></h3>
<ul>
<li>
<p><strong>Definition</strong>:</p>
<ul>
<li>A filesystem determines how data is stored and retrieved.</li>
<li>It organizes files on a partition.</li>
</ul>
</li>
<li>
<p><strong>Common Linux Filesystems</strong>:</p>
<ul>
<li><strong>ext4</strong>: Default for many Linux distributions; reliable and widely used.</li>
<li><strong>XFS</strong>: High-performance, suitable for large files.</li>
<li><strong>Btrfs</strong>: Supports advanced features like snapshots and pooling.</li>
<li><strong>FAT32/exFAT</strong>: For compatibility with Windows and macOS.</li>
</ul>
</li>
<li>
<p><strong>Creating a Filesystem</strong>:</p>
<ul>
<li>Use <code>mkfs</code> commands:
<ul>
<li><code>mkfs.ext4 /dev/sda1</code> to format a partition with ext4.</li>
<li><code>mkfs.xfs /dev/sda2</code> for XFS.</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="4-mounting-filesystems"><strong>4. Mounting Filesystems</strong><a hidden class="anchor" aria-hidden="true" href="#4-mounting-filesystems">#</a></h3>
<ul>
<li>
<p><strong>Mount Points</strong>:</p>
<ul>
<li>Directories where partitions are attached to the filesystem hierarchy.</li>
<li>Common mount points include <code>/</code>, <code>/home</code>, <code>/var</code>, <code>/mnt</code>, <code>/media</code>.</li>
</ul>
</li>
<li>
<p><strong>Mounting Process</strong>:</p>
<ul>
<li><strong>Manual Mounting</strong>:
<ul>
<li>Create a mount point: <code>mkdir /mnt/mydisk</code>.</li>
<li>Mount the partition: <code>mount /dev/sda1 /mnt/mydisk</code>.</li>
</ul>
</li>
<li><strong>Automatic Mounting</strong>:
<ul>
<li>Edit <code>/etc/fstab</code> to include the partition for mounting at boot.</li>
</ul>
</li>
</ul>
</li>
<li>
<p><strong>Unmounting</strong>:</p>
<ul>
<li>Use <code>umount /dev/sda1</code> to safely remove a mounted filesystem.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="5-the-linux-filesystem-hierarchy"><strong>5. The Linux Filesystem Hierarchy</strong><a hidden class="anchor" aria-hidden="true" href="#5-the-linux-filesystem-hierarchy">#</a></h3>
<ul>
<li>
<p><strong>Root Directory (<code>/</code>)</strong>:</p>
<ul>
<li>The top-level directory in Linux.</li>
<li>All other directories branch from here.</li>
</ul>
</li>
<li>
<p><strong>Standard Directories</strong>:</p>
<ul>
<li><strong><code>/bin</code></strong>: Essential binaries (executables).</li>
<li><strong><code>/etc</code></strong>: Configuration files.</li>
<li><strong><code>/home</code></strong>: User home directories.</li>
<li><strong><code>/var</code></strong>: Variable data like logs and databases.</li>
<li><strong><code>/usr</code></strong>: User applications and utilities.</li>
<li><strong><code>/tmp</code></strong>: Temporary files.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="6-key-concepts"><strong>6. Key Concepts</strong><a hidden class="anchor" aria-hidden="true" href="#6-key-concepts">#</a></h3>
<ul>
<li>
<p><strong>Everything is a File</strong>:</p>
<ul>
<li>Devices, directories, and even hardware are accessed like files.</li>
</ul>
</li>
<li>
<p><strong>Device Files</strong>:</p>
<ul>
<li>Found in <code>/dev/</code>.</li>
<li>Represent hardware devices (e.g., <code>/dev/sda</code> for a disk).</li>
</ul>
</li>
<li>
<p><strong>Swap Space</strong>:</p>
<ul>
<li>Acts as virtual memory when RAM is full.</li>
<li>Can be a dedicated partition or a swap file.</li>
</ul>
</li>
<li>
<p><strong>Permissions</strong>:</p>
<ul>
<li>Access to files and directories is controlled via permissions.</li>
<li>Important for security and system integrity.</li>
</ul>
</li>
</ul>
<hr>
<h3 id="7-practical-steps"><strong>7. Practical Steps</strong><a hidden class="anchor" aria-hidden="true" href="#7-practical-steps">#</a></h3>
<ul>
<li>
<p><strong>Checking Disk Space</strong>:</p>
<ul>
<li><code>df -h</code>: Shows disk space usage in human-readable form.</li>
<li><code>du -h</code>: Displays disk usage of files and directories.</li>
</ul>
</li>
<li>
<p><strong>Partitioning a Disk</strong>:</p>
<ul>
<li>Use <code>fdisk /dev/sda</code> for MBR disks.</li>
<li>Use <code>gdisk /dev/sda</code> for GPT disks.</li>
<li>Use <code>parted</code> for a more user-friendly interface.</li>
</ul>
</li>
<li>
<p><strong>Formatting a Partition</strong>:</p>
<ul>
<li>Choose a filesystem based on needs.</li>
<li>Example: <code>mkfs.ext4 /dev/sda1</code>.</li>
</ul>
</li>
<li>
<p><strong>Mounting a Partition</strong>:</p>
<ul>
<li><code>mount /dev/sda1 /mnt/data</code>.</li>
</ul>
</li>
<li>
<p><strong>Updating <code>/etc/fstab</code></strong>:</p>
<ul>
<li>Ensure persistent mounting across reboots.</li>
<li>Example entry:
<pre tabindex="0"><code>/dev/sda1   /mnt/data   ext4   defaults   0 2
</code></pre></li>
</ul>
</li>
</ul>
<hr>
<h3 id="8-summary"><strong>8. Summary</strong><a hidden class="anchor" aria-hidden="true" href="#8-summary">#</a></h3>
<ul>
<li><strong>Disks</strong> are physical storage devices, represented as files in <code>/dev/</code>.</li>
<li><strong>Partitions</strong> divide disks into manageable sections.</li>
<li><strong>Filesystems</strong> determine how data is stored on partitions.</li>
<li><strong>Mounting</strong> integrates partitions into the system&rsquo;s directory tree.</li>
<li><strong>Swap Space</strong> extends RAM capacity using disk space.</li>
<li><strong>Understanding the hierarchy</strong> and management of disks and filesystems is crucial for system administration.</li>
</ul>
<h3 id="btrfs">BTRFS<a hidden class="anchor" aria-hidden="true" href="#btrfs">#</a></h3>
<p>[[btrfs]]</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2024 <a href="http://localhost:1313/">Nikola Milovic&#39;s Blog</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
