[{"content":"package main import \u0026#34;fmt\u0026#34; func main() { fmt.Println(\u0026#34;hello world\u0026#34;) } #book #linux\nLinux is divided in\nHardware, actual devices, CPU, mouse, display Kernel, manages the hardware and acts as the middleman between the user and the hardware User space, programs that run outside of the privilege of the kernel, shells, browsers, games\u0026hellip; Device files device files are sometimes called device nodes, they are located in /dev/*.\nls -la /dev\nIf this character is b, c, p, or s, the file is a device. These letters stand for block, character, pipe, and socket\nBlock device, programs access data from a block device in fixed chunks. Character device, character devices work with data streams. You can only read characters from or write characters to character devices. eg printers Pipe device, named pipes are like character devices, with another process at the other end of the I/O stream instead of a kernel driver. Socket device, sockets are special-purpose interfaces that are frequently used for interprocess communication. Theyâ€™re often found outside of the /dev directory. Socket files represent Unix domain sockets Disks \u0026amp; FS Disks and Filesystems in Linux: A Simple Breakdown\n1. Disks in Linux Physical Storage Devices:\nHard drives, SSDs, USB drives, and virtual disks. Referred to as \u0026ldquo;disks\u0026rdquo; in Linux systems. Device Representation:\nLinux represents disks as device files in /dev/. SATA/SCSI disks: /dev/sda, /dev/sdb, etc. NVMe disks: /dev/nvme0n1, /dev/nvme1n1, etc. Partitions are numbered: /dev/sda1, /dev/sda2, etc. Identifying Disks:\nUse commands like lsblk, fdisk -l, or parted -l to list disks and partitions. 2. Partitioning What is a Partition?\nA way to divide a disk into separate sections. Each partition can function as an independent disk. Types of Partitions:\nPrimary Partitions: Limited to four per disk in the MBR scheme. Can be used to boot operating systems. Extended Partitions: A special primary partition acting as a container. Holds multiple logical partitions. Logical Partitions: Created within an extended partition. Allows more than four partitions on a disk. Partition Tables:\nMBR (Master Boot Record): Traditional scheme. Supports disks up to 2TB. Allows up to four primary partitions. GPT (GUID Partition Table): Modern scheme. Supports large disks (over 2TB). Allows numerous partitions. 3. Filesystems Definition:\nA filesystem determines how data is stored and retrieved. It organizes files on a partition. Common Linux Filesystems:\next4: Default for many Linux distributions; reliable and widely used. XFS: High-performance, suitable for large files. Btrfs: Supports advanced features like snapshots and pooling. FAT32/exFAT: For compatibility with Windows and macOS. Creating a Filesystem:\nUse mkfs commands: mkfs.ext4 /dev/sda1 to format a partition with ext4. mkfs.xfs /dev/sda2 for XFS. 4. Mounting Filesystems Mount Points:\nDirectories where partitions are attached to the filesystem hierarchy. Common mount points include /, /home, /var, /mnt, /media. Mounting Process:\nManual Mounting: Create a mount point: mkdir /mnt/mydisk. Mount the partition: mount /dev/sda1 /mnt/mydisk. Automatic Mounting: Edit /etc/fstab to include the partition for mounting at boot. Unmounting:\nUse umount /dev/sda1 to safely remove a mounted filesystem. 5. The Linux Filesystem Hierarchy Root Directory (/):\nThe top-level directory in Linux. All other directories branch from here. Standard Directories:\n/bin: Essential binaries (executables). /etc: Configuration files. /home: User home directories. /var: Variable data like logs and databases. /usr: User applications and utilities. /tmp: Temporary files. 6. Key Concepts Everything is a File:\nDevices, directories, and even hardware are accessed like files. Device Files:\nFound in /dev/. Represent hardware devices (e.g., /dev/sda for a disk). Swap Space:\nActs as virtual memory when RAM is full. Can be a dedicated partition or a swap file. Permissions:\nAccess to files and directories is controlled via permissions. Important for security and system integrity. 7. Practical Steps Checking Disk Space:\ndf -h: Shows disk space usage in human-readable form. du -h: Displays disk usage of files and directories. Partitioning a Disk:\nUse fdisk /dev/sda for MBR disks. Use gdisk /dev/sda for GPT disks. Use parted for a more user-friendly interface. Formatting a Partition:\nChoose a filesystem based on needs. Example: mkfs.ext4 /dev/sda1. Mounting a Partition:\nmount /dev/sda1 /mnt/data. Updating /etc/fstab:\nEnsure persistent mounting across reboots. Example entry: /dev/sda1 /mnt/data ext4 defaults 0 2 8. Summary Disks are physical storage devices, represented as files in /dev/. Partitions divide disks into manageable sections. Filesystems determine how data is stored on partitions. Mounting integrates partitions into the system\u0026rsquo;s directory tree. Swap Space extends RAM capacity using disk space. Understanding the hierarchy and management of disks and filesystems is crucial for system administration. BTRFS [[btrfs]]\n","permalink":"//localhost:1313/posts/2024-12-10-how-linux-works/","summary":"\u003cdiv class=\"highlight\"\u003e\u003cpre tabindex=\"0\" class=\"chroma\"\u003e\u003ccode class=\"language-go\" data-lang=\"go\"\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"kn\"\u003epackage\u003c/span\u003e \u003cspan class=\"nx\"\u003emain\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"kn\"\u003eimport\u003c/span\u003e \u003cspan class=\"s\"\u003e\u0026#34;fmt\u0026#34;\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"kd\"\u003efunc\u003c/span\u003e \u003cspan class=\"nf\"\u003emain\u003c/span\u003e\u003cspan class=\"p\"\u003e()\u003c/span\u003e \u003cspan class=\"p\"\u003e{\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e    \u003cspan class=\"nx\"\u003efmt\u003c/span\u003e\u003cspan class=\"p\"\u003e.\u003c/span\u003e\u003cspan class=\"nf\"\u003ePrintln\u003c/span\u003e\u003cspan class=\"p\"\u003e(\u003c/span\u003e\u003cspan class=\"s\"\u003e\u0026#34;hello world\u0026#34;\u003c/span\u003e\u003cspan class=\"p\"\u003e)\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"line\"\u003e\u003cspan class=\"cl\"\u003e\u003cspan class=\"p\"\u003e}\u003c/span\u003e\n\u003c/span\u003e\u003c/span\u003e\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\u003cp\u003e#book #linux\u003c/p\u003e\n\u003cp\u003eLinux is divided in\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eHardware, actual devices, CPU, mouse, display\u003c/li\u003e\n\u003cli\u003eKernel, manages the hardware and acts as the middleman between the user and the hardware\u003c/li\u003e\n\u003cli\u003eUser space, programs that run outside of the privilege of the kernel, shells, browsers, games\u0026hellip;\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch2 id=\"device-files\"\u003eDevice files\u003c/h2\u003e\n\u003cp\u003edevice files are sometimes called device nodes, they are located in \u003ccode\u003e/dev/*\u003c/code\u003e.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003els -la /dev\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eIf this character is b, c, p, or s, the file is a device. These letters stand for block, character, pipe, and socket\u003c/p\u003e","title":"How Linux works"}]